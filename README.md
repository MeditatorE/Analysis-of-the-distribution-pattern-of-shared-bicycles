# Analysis-of-the-distribution-pattern-of-shared-bicycles
This is the final project for ECE143. The goal of this project is to analyze the existing (Washington, DC) bikeshare distribution patterns, identify characteristics associated with the distribution patterns, and attempt to predict optimal future deployment strategies.

## Quick Start
1. Clone this repo
```
git clone https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles.git
cd Analysis-of-the-distribution-pattern-of-shared-bicycles-main
```
2. Install dependency packages
```
pip install -r requirements.txt
```

3. Please download the corresponding data on **[Kaggle](https://www.kaggle.com/datasets/taweilo/capital-bikeshare-dataset-202005202408/data)** and put the data in the [sources folder](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/tree/main/sources).

4. Run the [data_analysis.py](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/data_analysis.py) file, which will generate all the .csv files used for visualization and model training
```
python data_analysis.py
```

6. Download **[Jupyter notebook](https://jupyter.org)** and run
```
jupyter notebook
```

7. Run the [Visualization and Prediction Models.ipynb](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/Visualization%20and%20Prediction%20Models.ipynb) file, which will visualize the analysis results and train a model that can be used to predict future bike rental volume.

## File Description
**[data_analysis.py](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/data_analysis.py)**: This file integrates all the modules for data analysis. It will generate all the .csv files for model training and data visualization.

**[Visualization and Prediction Models.ipynb](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/Visualization%20and%20Prediction%20Models.ipynb)**: This file integrates all the codes for data visualization and model training. Please run [data_analysis.py](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/data_analysis.py) before running this file.

**[data_analysis.ipynb](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/data_analysis.ipynb)**: This file is the original file used for data analysis. It integrates all the codes in this project, including the abandoned parts. It also contains some conclusions of this analysis. If you are interested, you can take a look at it.

**[Member_new.ipynb](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/Member_new.ipynb)**: This file is a supplementary file for membership analysis, and its content has been integrated into [Visualization and Prediction Models.ipynb](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/Visualization%20and%20Prediction%20Models.ipynb).

**[sources](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/tree/main/sources)**: This folder is used to store the original data. You should download the original data on **[Kaggle](https://www.kaggle.com/datasets/taweilo/capital-bikeshare-dataset-202005202408/data)** and put it in this folder.

**[csv file](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/tree/main/csv%20file)**: This folder stores almost all (except those with huge amounts of data) csv files generated by [data_analysis.py](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/blob/main/data_analysis.py).

**[html](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/tree/main/html)**: This folder stores interactive visualization station data (marked on the map). They are in HTML format. You need to download the HTML file and open it with a browser.

**[result_picture](https://github.com/MeditatorE/Analysis-of-the-distribution-pattern-of-shared-bicycles/tree/main/result_picture)**: This file stores the visualization results of all data analysis. All files are in png image format.

**All the dependent modules of this project are as follows:**
```
branca==0.8.0
folium==0.18.0
matplotlib==3.6.2
numpy==1.23.5
pandas==1.5.3
prophet==1.1.6
scikit_learn==1.3.2
scipy==1.9.1
seaborn==0.13.2
tqdm==4.64.1
xgboost==2.1.3
```

**The specific structure of all files is as follows:**
```
/main/
├── Member_new.ipynb
├── Visualization and Prediction Models.ipynb
├── csv file
│   ├── Difference.csv
│   ├── df_date_Clear.csv
│   ├── df_date_Cloudy.csv
│   ├── df_date_Partially_cloudy.csv
│   ├── df_date_Rain.csv
│   ├── df_date_Snow.csv
│   ├── df_date_Wind.csv
│   ├── df_date_rent_num.csv
│   ├── df_date_weather_num.csv
│   ├── df_member_casual.csv
│   ├── df_member_start.csv
│   ├── df_month_time.csv
│   ├── df_pro.csv
│   ├── df_station_time.csv
│   ├── start_percentage.csv
│   └── stats_with_type.csv
├── data_analysis.ipynb
├── data_analysis.py
├── html
│   ├── my_map_end.html
│   ├── my_map_start.html
│   ├── washington_map_in_out.html
│   ├── washington_map_member.html
│   └── washington_map_type.html
├── result_picture
│   ├── Actual vs Predicted Rental Counts.png
│   ├── Difference.png
│   ├── Feature Importance XGBoost.png
│   ├── Percentage of rentals.png
│   ├── Prophet_result.png
│   ├── Ride_duration.png
│   ├── Station_Type_rent.png
│   ├── full Difference.png
│   ├── full Percentage of rentals.png
│   ├── heatmap_rental_quantities.png
│   ├── heatmap_station_time.png
│   ├── member_barchart.png
│   ├── member_station.png
│   ├── new_heatmap_station_time.png
│   ├── total.png
│   ├── total_gaussian.png
│   ├── weather_avg.png
│   └── weather_rent_num.png
└── sources
    ├── daily_rent_detail.csv
    ├── station_list.csv
    ├── stations.csv
    ├── usage_frequency.csv
    └── weather.csv
```
